/* ======== STYLES GÉNÉRAUX ======== */
:root {
    --primary-color: #004a99; /* Un bleu BDE */
    --secondary-color: #f4f4f4;
    --text-color: #333;
    /* Hauteur du header, utile pour les calculs de position */
    --header-height: 65px;
}
* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
    line-height: 1.6;
    color: var(--text-color);
}
h1, h2, h3, h4 { margin-bottom: 1rem; color: var(--primary-color); }
h2 { text-align: center; font-size: 2rem; text-transform: uppercase; letter-spacing: 1px; }

/* ============================================================
  NOUVEAU : CSS SCROLL SNAP (Requête 1 : "descente rapide")
  ============================================================
*/
html, body {
    /* Nécessaire pour que le conteneur de scroll prenne toute la hauteur */
    height: 100%;
    overflow-y: hidden; /* On transfère le scroll au <main> */
}

main.scroll-container {
    /* C'est le conteneur qui va gérer le "snap" */
    height: 100vh;
    overflow-y: scroll;
    scroll-snap-type: y mandatory; /* Force le scroll à s'accrocher sur l'axe Y */
}

section, footer {
    padding: 4rem 2rem;
}

.scroll-section {
    /* Chaque section est un point d'accroche */
    scroll-snap-align: start; /* S'accroche au début (en haut) */
    position: relative; /* Nécessaire pour le z-index */
}
/* ========================================================== */

/* ======== HEADER & NAVIGATION ======== */
header {
    /* ... (Code inchangé) ... */
    position: sticky;
    top: 0;
    z-index: 1000;
}
/* ... (Code de la nav mobile inchangé) ... */

/* ======== SECTION ACCUEIL (HERO) ======== */
#accueil {
    /* ... (Code inchangé) ... */
    min-height: calc(100vh - var(--header-height));
    z-index: 5;
}

/* ======== SECTION BUDGET (MODIFIÉE) ======== */
#budget {
    position: sticky;
    top: var(--header-height);
    height: 100vh;
    padding: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden;
    z-index: 1; /* Reste en arrière-plan */
}
/* ... (Code du fond animé ::before inchangé) ... */

.budget-content-wrapper {
    position: relative;
    z-index: 2;
    width: 100%;
    max-width: 600px;
}

/* MODIFICATION : Le canvas sera contrôlé par JS.
  On s'assure qu'il accepte les transformations.
*/
#budget-chart {
    /* Cette transition rendra le passage à l'état "repos" plus doux
      si l'utilisateur arrête de scroller.
      On enlève la transition sur 'transform' car JS le gère.
    */
    transition: opacity 0.3s ease;
}

.solde-container {
    /* ... (Code inchangé) ... */
}

/* ======== SECTION ANNONCES & IDÉES (MODIFIÉE) ======== */
#annonces-idees {
    position: relative;
    z-index: 6; /* Doit être au-dessus de tout (sauf le header) */
    background: white;
    border-top: 3px solid var(--primary-color);
}
#annonces-title {
    padding-bottom: 2rem;
    border-bottom: 2px solid #eee;
}
.content-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 2.5rem; /* Augmenté pour l'effet post-it */
    margin-top: 2rem;
}
.annonces-col, .idees-col { display: flex; flex-direction: column; gap: 1.5rem; }

/* ============================================================
  NOUVEAU : STYLE POST-IT (Requêtes 3 & 4)
  ============================================================
*/

/* On supprime les anciens styles de .card */
.card { display: none; }

.post-it {
    padding: 1.5rem;
    box-shadow: 5px 5px 15px rgba(0,0,0,0.15);
    transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
    font-family: 'Comic Sans MS', 'Chalkboard SE', 'cursive'; /* Style "écrit à la main" */
    line-height: 1.5;
}

.post-it:hover {
    /* Au survol, on le "redresse" et on l'agrandit */
    transform: scale(1.05) rotate(0deg) !important; /* !important pour forcer */
    box-shadow: 10px 10px 20px rgba(0,0,0,0.2);
    z-index: 10; /* Passe au-dessus des autres */
    position: relative;
}

/* Annonces BDE : bleu, officiel, légèrement penché */
.post-it-annonce {
    background-color: #e0f7fa; /* Bleu clair */
    transform: rotate(-1.5deg);
}
.post-it-annonce h4 {
    color: var(--primary-color);
    font-family: Arial, sans-serif; /* Titre plus sérieux */
}

/* Propositions Élèves : jaune, plus "fun", plus penché */
.post-it-proposition {
    background-color: #fffde7; /* Jaune post-it */
    transform: rotate(2deg);
}
.post-it-proposition .profile {
    /* ... (Code du profil inchangé) ... */
}
/* ========================================================== */

/* ======== FOOTER ======== */
footer {
    /* ... (Code inchangé) ... */
    z-index: 6;
}

/* ======== RESPONSIVE (POUR MOBILES) ======== */
@media (max-width: 768px) {
    /* ... (Code responsive inchangé) ... */

    /* Le scroll snap peut être désactivé sur mobile si frustrant */
    /* main.scroll-container { scroll-snap-type: none; } */

    .content-grid { grid-template-columns: 1fr; }

    /* Sur mobile, on alterne la rotation des post-it */
    .post-it:nth-child(even) { transform: rotate(2deg); }
    .post-it:nth-child(odd) { transform: rotate(-2deg); }
}